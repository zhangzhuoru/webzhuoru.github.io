{"version":3,"file":"js/312.3fc943f2.js","mappings":"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","sources":["webpack://packet/./src/views/Import.vue","webpack://packet/./src/components/common/FileImporter.vue","webpack://packet/src/components/common/FileImporter.vue","webpack://packet/./src/components/common/FileImporter.vue?ba2e","webpack://packet/./src/components/common/FileImporter.vue?6ae6","webpack://packet/src/views/Import.vue","webpack://packet/./src/views/Import.vue?a19f","webpack://packet/./src/views/Import.vue?9434","webpack://packet/./src/components/common/LevelNavigator.vue","webpack://packet/src/components/common/LevelNavigator.vue","webpack://packet/./src/components/common/LevelNavigator.vue?8df6","webpack://packet/./src/components/common/LevelNavigator.vue?1092"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"import-page\"},[_c('file-importer',{ref:\"importer\",attrs:{\"loading\":_vm.loading},on:{\"file-selected\":_vm.handleFileImport,\"import-error\":_vm.handleImportError}}),_c('van-button',{staticClass:\"mt-12\",attrs:{\"type\":\"primary\",\"plain\":\"\",\"block\":\"\",\"loading\":_vm.sampleLoading},on:{\"click\":_vm.loadSampleBank}},[_vm._v(\" 一键加载示例题库 \")]),(!_vm.questionBank)?_c('section',{staticClass:\"card mt-16\"},[_c('van-empty',{attrs:{\"image\":\"search\",\"description\":\"尚未导入题库\"}},[_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.openPicker}},[_vm._v(\" 立即导入 \")])],1)],1):_c('section',{staticClass:\"card mt-16\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"题库概览\")]),_c('div',{staticClass:\"info-grid\"},[_c('div',[_c('p',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.questionBank.total))]),_c('p',{staticClass:\"info-label\"},[_vm._v(\"题目总数\")])]),_c('div',[_c('p',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.questionBank.levels.length))]),_c('p',{staticClass:\"info-label\"},[_vm._v(\"关卡数量\")])]),_c('div',[_c('p',{staticClass:\"info-value\"},[_vm._v(_vm._s(_vm.currentLevelTitle))]),_c('p',{staticClass:\"info-label\"},[_vm._v(\"当前关卡\")])])]),(_vm.questionBank.description)?_c('p',{staticClass:\"bank-desc\"},[_vm._v(\" \"+_vm._s(_vm.questionBank.description)+\" \")]):_vm._e()]),(_vm.questionBank)?_c('level-navigator',{staticClass:\"mt-16\",attrs:{\"levels\":_vm.levels,\"current-level-id\":_vm.currentLevelId,\"unlocked-levels\":_vm.unlockedLevels},on:{\"select\":_vm.handlePreviewLevel}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file-importer card\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"导入题库 JSON\")]),_c('p',{staticClass:\"description\"},[_vm._v(\" 支持 PRD 中示例格式。系统会自动校验题库结构并生成关卡。 \")]),_c('van-uploader',{attrs:{\"accept\":_vm.accept,\"after-read\":_vm.handleAfterRead,\"disabled\":_vm.loading,\"max-size\":_vm.maxSize},on:{\"oversize\":_vm.handleOversize}}),_c('van-button',{staticClass:\"mt-12\",attrs:{\"type\":\"primary\",\"block\":\"\",\"loading\":_vm.loading},on:{\"click\":_vm.triggerPicker}},[_vm._v(\" \"+_vm._s(_vm.loading ? '正在导入...' : '选择 JSON 文件')+\" \")]),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\",\"accept\":\".json,application/json\"},on:{\"change\":_vm.handleManualSelect}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"file-importer card\">\r\n    <h3 class=\"section-title\">导入题库 JSON</h3>\r\n    <p class=\"description\">\r\n      支持 PRD 中示例格式。系统会自动校验题库结构并生成关卡。\r\n    </p>\r\n    <van-uploader\r\n      :accept=\"accept\"\r\n      :after-read=\"handleAfterRead\"\r\n      :disabled=\"loading\"\r\n      :max-size=\"maxSize\"\r\n      @oversize=\"handleOversize\"\r\n    />\r\n    <van-button\r\n      class=\"mt-12\"\r\n      type=\"primary\"\r\n      block\r\n      :loading=\"loading\"\r\n      @click=\"triggerPicker\"\r\n    >\r\n      {{ loading ? '正在导入...' : '选择 JSON 文件' }}\r\n    </van-button>\r\n    <input\r\n      ref=\"fileInput\"\r\n      type=\"file\"\r\n      accept=\".json,application/json\"\r\n      style=\"display: none\"\r\n      @change=\"handleManualSelect\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'FileImporter',\r\n  props: {\r\n    loading: {\r\n      type: Boolean,\r\n      default: false,\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: '.json,application/json',\r\n    },\r\n    maxSize: {\r\n      type: Number,\r\n      default: 1024 * 1024 * 2,\r\n    },\r\n  },\r\n  methods: {\r\n    handleAfterRead(file) {\r\n      this.$emit('file-selected', file.file || file);\r\n    },\r\n    handleManualSelect(event) {\r\n      const [file] = event.target.files || [];\r\n      if (file) {\r\n        this.$emit('file-selected', file);\r\n      }\r\n      event.target.value = '';\r\n    },\r\n    handleOversize() {\r\n      this.$emit('import-error', '文件超过 2MB，请压缩后再试');\r\n    },\r\n    triggerPicker() {\r\n      this.$refs.fileInput?.click();\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.description {\r\n  font-size: 13px;\r\n  color: #6b7280;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.mt-12 {\r\n  margin-top: 12px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileImporter.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FileImporter.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FileImporter.vue?vue&type=template&id=3fd93caf&scoped=true\"\nimport script from \"./FileImporter.vue?vue&type=script&lang=js\"\nexport * from \"./FileImporter.vue?vue&type=script&lang=js\"\nimport style0 from \"./FileImporter.vue?vue&type=style&index=0&id=3fd93caf&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3fd93caf\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"import-page\">\r\n    <file-importer\r\n      ref=\"importer\"\r\n      :loading=\"loading\"\r\n      @file-selected=\"handleFileImport\"\r\n      @import-error=\"handleImportError\"\r\n    />\r\n\r\n    <van-button\r\n      class=\"mt-12\"\r\n      type=\"primary\"\r\n      plain\r\n      block\r\n      :loading=\"sampleLoading\"\r\n      @click=\"loadSampleBank\"\r\n    >\r\n      一键加载示例题库\r\n    </van-button>\r\n\r\n    <section v-if=\"!questionBank\" class=\"card mt-16\">\r\n      <van-empty image=\"search\" description=\"尚未导入题库\">\r\n        <van-button size=\"small\" type=\"primary\" @click=\"openPicker\">\r\n          立即导入\r\n        </van-button>\r\n      </van-empty>\r\n    </section>\r\n\r\n    <section v-else class=\"card mt-16\">\r\n      <h3 class=\"section-title\">题库概览</h3>\r\n      <div class=\"info-grid\">\r\n        <div>\r\n          <p class=\"info-value\">{{ questionBank.total }}</p>\r\n          <p class=\"info-label\">题目总数</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"info-value\">{{ questionBank.levels.length }}</p>\r\n          <p class=\"info-label\">关卡数量</p>\r\n        </div>\r\n        <div>\r\n          <p class=\"info-value\">{{ currentLevelTitle }}</p>\r\n          <p class=\"info-label\">当前关卡</p>\r\n        </div>\r\n      </div>\r\n      <p v-if=\"questionBank.description\" class=\"bank-desc\">\r\n        {{ questionBank.description }}\r\n      </p>\r\n    </section>\r\n\r\n    <level-navigator\r\n      v-if=\"questionBank\"\r\n      class=\"mt-16\"\r\n      :levels=\"levels\"\r\n      :current-level-id=\"currentLevelId\"\r\n      :unlocked-levels=\"unlockedLevels\"\r\n      @select=\"handlePreviewLevel\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState, mapGetters, mapActions } from 'vuex';\r\nimport FileImporter from '@/components/common/FileImporter.vue';\r\nimport LevelNavigator from '@/components/common/LevelNavigator.vue';\r\n\r\nexport default {\r\n  name: 'ImportPage',\r\n  components: { FileImporter, LevelNavigator },\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      sampleLoading: false,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState('questions', ['questionBank', 'levels', 'currentLevelId']),\r\n    ...mapGetters('progress', ['unlockedLevels']),\r\n    currentLevelTitle() {\r\n      const current =\r\n        this.levels.find(level => level.id === this.currentLevelId) || this.levels[0];\r\n      return current ? current.title : '-';\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions('questions', [\r\n      'importQuestionBank',\r\n      'importQuestionContent',\r\n      'loadLevelQuestions',\r\n    ]),\r\n    async handleFileImport(file) {\r\n      this.loading = true;\r\n      try {\r\n        await this.importQuestionBank(file);\r\n        this.$toast.success('题库导入成功');\r\n      } catch (error) {\r\n        this.$toast.fail(error.message || '导入失败');\r\n      } finally {\r\n        this.loading = false;\r\n      }\r\n    },\r\n    handleImportError(message) {\r\n      this.$toast(message);\r\n    },\r\n    openPicker() {\r\n      if (this.$refs.importer && this.$refs.importer.triggerPicker) {\r\n        this.$refs.importer.triggerPicker();\r\n      }\r\n    },\r\n    async loadSampleBank() {\r\n      this.sampleLoading = true;\r\n      try {\r\n        const module = await import('@/../example_questions.json');\r\n        const content = JSON.stringify(module.default || module);\r\n        await this.importQuestionContent({\r\n          content,\r\n          fileName: '示例题库.json',\r\n        });\r\n        this.$toast.success('示例题库已准备就绪');\r\n      } catch (error) {\r\n        this.$toast.fail('加载示例题库失败');\r\n      } finally {\r\n        this.sampleLoading = false;\r\n      }\r\n    },\r\n    handlePreviewLevel(level) {\r\n      this.loadLevelQuestions(level.id);\r\n      this.$router.push({ name: 'Quiz' });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.import-page {\r\n  max-width: 640px;\r\n  margin: 0 auto;\r\n}\r\n\r\n.info-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(3, 1fr);\r\n  gap: 12px;\r\n  text-align: center;\r\n}\r\n\r\n.info-value {\r\n  margin: 0;\r\n  font-size: 22px;\r\n  font-weight: 700;\r\n  color: #111827;\r\n}\r\n\r\n.info-label {\r\n  margin: 4px 0 0;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n\r\n.bank-desc {\r\n  margin-top: 12px;\r\n  font-size: 13px;\r\n  color: #4b5563;\r\n  line-height: 1.5;\r\n}\r\n</style>\r\n\r\n\r\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Import.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Import.vue?vue&type=template&id=9f1e47b0&scoped=true\"\nimport script from \"./Import.vue?vue&type=script&lang=js\"\nexport * from \"./Import.vue?vue&type=script&lang=js\"\nimport style0 from \"./Import.vue?vue&type=style&index=0&id=9f1e47b0&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9f1e47b0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"level-nav card\"},[_c('div',{staticClass:\"level-nav__header\"},[_c('h3',{staticClass:\"section-title\"},[_vm._v(\"关卡选择\")]),(_vm.levels.length)?_c('p',{staticClass:\"level-nav__meta\"},[_vm._v(\" 已解锁 \"+_vm._s(_vm.unlockedLevels.length)+\"/\"+_vm._s(_vm.levels.length)+\" \")]):_vm._e()]),(_vm.levels.length)?_c('div',{staticClass:\"level-grid\"},_vm._l((_vm.levels),function(level){return _c('button',{key:level.id,staticClass:\"level-cell\",class:{\n        active: level.id === _vm.currentLevelId,\n        locked: !_vm.isUnlocked(level.id),\n      },attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.handleSelect(level)}}},[_c('div',{staticClass:\"level-cell__head\"},[_c('span',{staticClass:\"level-cell__title\"},[_vm._v(_vm._s(level.title))]),_c('van-icon',{attrs:{\"name\":_vm.isUnlocked(level.id) ? 'success' : 'lock',\"color\":_vm.isUnlocked(level.id) ? '#10b981' : '#f97316'}})],1),_c('p',{staticClass:\"level-cell__range\"},[_vm._v(\" 题目 \"+_vm._s(level.start + 1)+\" - \"+_vm._s(level.end)+\" \")]),_c('p',{staticClass:\"level-cell__status\"},[_vm._v(\" \"+_vm._s(_vm.isUnlocked(level.id) ? '点击开始' : '完成前一关解锁')+\" \")])])}),0):_c('van-empty',{attrs:{\"description\":\"请先导入题库\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"level-nav card\">\r\n    <div class=\"level-nav__header\">\r\n      <h3 class=\"section-title\">关卡选择</h3>\r\n      <p v-if=\"levels.length\" class=\"level-nav__meta\">\r\n        已解锁 {{ unlockedLevels.length }}/{{ levels.length }}\r\n      </p>\r\n    </div>\r\n\r\n    <div v-if=\"levels.length\" class=\"level-grid\">\r\n      <button\r\n        v-for=\"level in levels\"\r\n        :key=\"level.id\"\r\n        class=\"level-cell\"\r\n        :class=\"{\r\n          active: level.id === currentLevelId,\r\n          locked: !isUnlocked(level.id),\r\n        }\"\r\n        type=\"button\"\r\n        @click=\"handleSelect(level)\"\r\n      >\r\n        <div class=\"level-cell__head\">\r\n          <span class=\"level-cell__title\">{{ level.title }}</span>\r\n          <van-icon\r\n            :name=\"isUnlocked(level.id) ? 'success' : 'lock'\"\r\n            :color=\"isUnlocked(level.id) ? '#10b981' : '#f97316'\"\r\n          />\r\n        </div>\r\n        <p class=\"level-cell__range\">\r\n          题目 {{ level.start + 1 }} - {{ level.end }}\r\n        </p>\r\n        <p class=\"level-cell__status\">\r\n          {{ isUnlocked(level.id) ? '点击开始' : '完成前一关解锁' }}\r\n        </p>\r\n      </button>\r\n    </div>\r\n\r\n    <van-empty v-else description=\"请先导入题库\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'LevelNavigator',\r\n  props: {\r\n    levels: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n    currentLevelId: {\r\n      type: String,\r\n      default: '',\r\n    },\r\n    unlockedLevels: {\r\n      type: Array,\r\n      default: () => [],\r\n    },\r\n  },\r\n  methods: {\r\n    isUnlocked(levelId) {\r\n      if (!this.unlockedLevels.length) {\r\n        return levelId === this.levels[0]?.id;\r\n      }\r\n      return this.unlockedLevels.includes(levelId);\r\n    },\r\n    handleSelect(level) {\r\n      if (!this.isUnlocked(level.id)) {\r\n        this.$toast('先完成前一关卡即可解锁');\r\n        return;\r\n      }\r\n      this.$emit('select', level);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.level-nav__header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.level-nav__meta {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  color: #64748b;\r\n}\r\n\r\n.level-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));\r\n  gap: 12px;\r\n}\r\n\r\n.level-cell {\r\n  border: 1px solid rgba(148, 163, 184, 0.3);\r\n  border-radius: 16px;\r\n  padding: 12px 14px;\r\n  text-align: left;\r\n  background: #f8fbff;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.level-cell__head {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 6px;\r\n}\r\n\r\n.level-cell__title {\r\n  font-weight: 600;\r\n  color: #0f172a;\r\n}\r\n\r\n.level-cell__range {\r\n  margin: 0;\r\n  font-size: 13px;\r\n  color: #475569;\r\n}\r\n\r\n.level-cell__status {\r\n  margin: 6px 0 0;\r\n  font-size: 12px;\r\n  color: #94a3b8;\r\n}\r\n\r\n.level-cell.active {\r\n  border-color: rgba(37, 99, 235, 0.5);\r\n  background: rgba(59, 130, 246, 0.12);\r\n  box-shadow: 0 10px 24px rgba(15, 23, 42, 0.08);\r\n}\r\n\r\n.level-cell:not(.locked):hover {\r\n  border-color: rgba(37, 99, 235, 0.4);\r\n  transform: translateY(-2px);\r\n}\r\n\r\n.level-cell.locked {\r\n  cursor: not-allowed;\r\n  background: #fdf2e9;\r\n  border-color: rgba(249, 115, 22, 0.4);\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LevelNavigator.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./LevelNavigator.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./LevelNavigator.vue?vue&type=template&id=4964e19e&scoped=true\"\nimport script from \"./LevelNavigator.vue?vue&type=script&lang=js\"\nexport * from \"./LevelNavigator.vue?vue&type=script&lang=js\"\nimport style0 from \"./LevelNavigator.vue?vue&type=style&index=0&id=4964e19e&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4964e19e\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","ref","attrs","loading","on","handleFileImport","handleImportError","sampleLoading","loadSampleBank","_v","questionBank","_s","total","levels","length","currentLevelTitle","description","_e","openPicker","currentLevelId","unlockedLevels","handlePreviewLevel","staticRenderFns","accept","handleAfterRead","maxSize","handleOversize","triggerPicker","staticStyle","handleManualSelect","name","props","type","Boolean","default","String","Number","methods","file","$emit","event","target","files","value","$refs","fileInput","click","component","components","FileImporter","LevelNavigator","data","computed","mapState","mapGetters","current","find","level","id","title","mapActions","importQuestionBank","$toast","success","error","fail","message","importer","module","content","JSON","stringify","importQuestionContent","fileName","loadLevelQuestions","$router","push","_l","key","class","active","locked","isUnlocked","$event","handleSelect","start","end","Array","levelId","includes"],"ignoreList":[],"sourceRoot":""}